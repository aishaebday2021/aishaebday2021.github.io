var cards = [
  {
    name: "cathy",
    img: "cathy.jpeg",
    iframe: `<iframe width="1200" height="600" src="https://www.youtube.com/embed/uVEVPEU4omc" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen ></iframe>`,
    id: 1,
  },
  {
    name: "dhar",
    img: "dhar.jpg",
    iframe: `<iframe width="1200" height="600" src="https://www.youtube.com/embed/3ZTVbcg91Ug" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen ></iframe>`,
    id: 2,
  },
  {
    name: "hema",
    img: "hema.jpeg",
    iframe:`<iframe width="1200" height="600" src="https://www.youtube.com/embed/79kA_kIezwk" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen ></iframe>`,
    id: 3,
  },
  {
    name: "kabi",
    img: "kabi.jpeg",
    iframe: `<iframe width="1200" height="600" src="https://www.youtube.com/embed/mKXuM-Br2nA" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,
    id: 4,
  },
  {
    name: "mak",
    img: "mak.jpg",
    iframe: `<iframe width="1200" height="600" src="https://www.youtube.com/embed/kfq7HmkvHX0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,
    id: 5,
  },
  {
    name: "aps",
    img: "aps.jpeg",
    iframe: `<iframe width="1200" height="600" src="https://www.youtube.com/embed/aLYtrCyY0JY" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,
    id: 6,
  },
  {
    name: "harshi",
    img: "harshi.jpeg",
    iframe: `<iframe width="1200" height="600" src="https://www.youtube.com/embed/6KCYIKSyhGk" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,
    id: 7,
  },
  {
    name: "kasil",
    img: "kasil.jpeg",
    iframe: `<iframe width="1200" height="600" src="https://www.youtube.com/embed/waCZbtDcDys" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,
    id: 8,
  },
  {
    name: "mano",
    img: "mano.jpeg",
    iframe: `<iframe width="1200" height="600" src="https://www.youtube.com/embed/8JPE3XzUnkc" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,
    id: 9,
  },
  {
    name: "natty",
    img: "natty.jpeg",
    iframe: `<iframe width="1200" height="600" src="https://www.youtube.com/embed/pYL_SqWMY10" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,
    id: 10,
  },
  {
    name: "naveen",
    img: "naveen.jpeg",
    iframe: `<iframe width="1200" height="600" src="https://www.youtube.com/embed/qZja-wWr7ok" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,
    id: 11,
  },
  {
    name: "nithish",
    img:"nithish.jpeg",
    iframe: `<iframe width="1200" height="600" src="https://www.youtube.com/embed/rRFLn3tA9Uw" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,
    id: 12,
  },
  {
    name: "rohit",
    img:"rohit.jpeg",
    iframe: `<iframe width="1200" height="600" src="https://www.youtube.com/embed/oaAftFuj_z8" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,
    id: 13,
  },
  {
    name: "sandy",
    img:"sandy.jpeg",
    iframe: `<iframe width="1200" height="600" src="https://www.youtube.com/embed/NvtNI2GIHK4" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,
    id: 14,
  },
  {
    name: "siva",
    img:"siva.jpeg",
    iframe: `<iframe width="1200" height="600" src="https://www.youtube.com/embed/GWBoXjlMzo8" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,
    id: 15,
  },
  {
    name: "sriju",
    img: "sriju.jpeg",
    iframe: `<iframe width="1200" height="600" src="https://www.youtube.com/embed/Q_ckhwqArqE" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,
    id: 16,
  },
  {
    name: "ssr",
    img: "ssr.jpeg",
    iframe: `<iframe width="1200" height="600" src="https://www.youtube.com/embed/eTm2o40d2Qw" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,
    id: 17,
  },
  {
    name: "swetha",
    img:"swetha.jpeg",
    iframe: `<iframe width="1200" height="600" src="https://www.youtube.com/embed/iWCfmEAuVkE" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,
    id: 18,
  },
  {
    name: "vijay",
    img:"vijay.jpeg",
    iframe: `<iframe width="1200" height="600" src="https://www.youtube.com/embed/KNhMhqkHl44" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,
    id: 19,
  },
  {
    name: "vishnu",
    img:"vishnu.jpeg",
    iframe: `<iframe width="1200" height="600" src="https://www.youtube.com/embed/TlFq8a6S0r4" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,
    id: 20,
  },
  {
    name: "kiran",
    img:"kiran.jpeg",
    iframe: `<iframe width="1200" height="600" src="https://www.youtube.com/embed/nmgc5vRaOIw" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,
    id: 21,
  },
  {
    name: "thar",
    img:"thar.jpeg",
    iframe: `<iframe width="1200" height="600" src="https://www.youtube.com/embed/lAjjpmOE9wE" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,
    id: 22,
  },
  {
    name: "san",
    img:"san.jpeg",
    iframe: `<iframe width="1200" height="600" src="https://www.youtube.com/embed/BUtaGfiAq00" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,
    id: 23,
  },
  {
    name: "yogesh",
    img:"yogesh.jpeg",
    iframe: `<iframe width="1200" height="600" src="https://www.youtube.com/embed/tI8yu6Y9alU" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,
    id: 24,
  },
  {
    name: "dharika",
    img:"dharika.jpeg",
    iframe: `<iframe width="1200" height="600" src="https://www.youtube.com/embed/m3s3JeaLpiw" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`,
    id: 25,
  },
];

(function () {
  var Memory = {
    init: function (cards) {
      this.$game = $(".game");
      this.$modal = $(".modal");
      this.$overlay = $(".modal-overlay");
      this.$restartButton = $("button.restart");
      this.cardsArray = $.merge(cards, cards);
      this.shuffleCards(this.cardsArray);
      this.setup();
    },

    shuffleCards: function (cardsArray) {
      this.$cards = $(this.shuffle(this.cardsArray));
    },

    setup: function () {
      this.html = this.buildHTML();
      this.$game.html(this.html);
      this.$memoryCards = $(".card");
      this.paused = false;
      this.guess = null;
      this.binding();
    },

    binding: function () {
      this.$memoryCards.on("click", this.cardClicked);
      this.$restartButton.on("click", $.proxy(this.reset, this));
    },
    // kinda messy but hey
    cardClicked: function () {
      var _ = Memory;
      var $card = $(this);
      if (
        !_.paused &&
        !$card.find(".inside").hasClass("matched") &&
        !$card.find(".inside").hasClass("picked")
      ) {
        $card.find(".inside").addClass("picked");
        if (!_.guess) {
          _.guess = $(this).attr("data-id");
        } else if (
          _.guess == $(this).attr("data-id") &&
          !$(this).hasClass("picked")
        ) {
          $(".picked").addClass("matched");
          openModal(_.guess);
          _.guess = null;
          // add here

          // alert("hi");
        } else {
          _.guess = null;
          _.paused = true;
          setTimeout(function () {
            $(".picked").removeClass("picked");
            Memory.paused = false;
          }, 600);
        }
        if ($(".matched").length == $(".card").length) {
          _.win();
        }
      }
    },

    win: function () {
      this.paused = true;
      setTimeout(function () {
        Memory.showModal();
        Memory.$game.fadeOut();
      }, 1000);
    },

    showModal: function () {
      this.$overlay.show();
      this.$modal.fadeIn("slow");
    },

    hideModal: function () {
      this.$overlay.hide();
      this.$modal.hide();
    },

    reset: function () {
      this.hideModal();
      this.shuffleCards(this.cardsArray);
      this.setup();
      this.$game.show("slow");
    },

    // Fisher--Yates Algorithm -- https://bost.ocks.org/mike/shuffle/
    shuffle: function (array) {
      var counter = array.length,
        temp,
        index;
      // While there are elements in the array
      while (counter > 0) {
        // Pick a random index
        index = Math.floor(Math.random() * counter);
        // Decrease counter by 1
        counter--;
        // And swap the last element with it
        temp = array[counter];
        array[counter] = array[index];
        array[index] = temp;
      }
      return array;
    },

    buildHTML: function () {
      var frag = "";
      this.$cards.each(function (k, v) {
        frag += '<div class="card" data-id="' + v.id +'"><div class="inside">\
				<div class="front"><img src="' +
          v.img +
          '"\
				alt="' +
          v.name +
          '" /></div>\
				<div class="back"><img src="yusuf2.gif"\
				alt="Codepen" /></div></div>\
				</div>';
      });
      return frag;
    },
  };

  Memory.init(cards);
})();

function switcher() {
  document.getElementById("fp").style.display = "none";
  $("#wp").fadeIn("slow");
  document.getElementById("wp").style.display = "block";
}


function refreshPage(){
    window.location.reload();
} 


